{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport styles from './styles.module.scss';\nimport { getTimeLineNews } from '../../api';\nimport NewsBlock from './NewsBlock';\nimport Loader from '../../components/Loader';\n\nconst NewsPage = () => {\n  const {\n    0: news,\n    1: setNewsList\n  } = useState();\n  const {\n    0: isLoaded,\n    1: handleLoaded\n  } = useState(false);\n\n  const fetchNews = async () => {\n    const newsResponse = await getTimeLineNews();\n    setNewsList(newsResponse);\n  };\n\n  useEffect(() => {\n    fetchNews();\n  }, []);\n  useEffect(() => {\n    if (news) {\n      handleLoaded(true);\n    }\n  }, [news]);\n\n  const renderNews = () => {\n    if (news && news.length) {\n      return news.map(newsItem => __jsx(NewsBlock, {\n        data: newsItem,\n        key: newsItem.date\n      }));\n    } else {\n      return __jsx(\"div\", null, \"No news yet\");\n    }\n  };\n\n  if (!isLoaded) {\n    return __jsx(Loader, null);\n  }\n\n  return __jsx(\"div\", {\n    className: styles.newsContainer\n  }, renderNews());\n};\n\nexport default NewsPage;","map":null,"metadata":{},"sourceType":"module"}